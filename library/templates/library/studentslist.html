{% extends 'library/layout.html' %}
{% block content %}
{% for message in messages %}
<div class="alert alert-success container" id="delete" role="alert" style="margin-top:3px;">
  {{message}}
</div>
{%endfor%}
<div class="container">
  <div class="row justify-content-center  form-container mr-auto ">
    <p class="form-title">Student's List</p>
  </div>
  <hr />
  <div class="row justify-content-center container" style="margin-left:3px;">
    <table class="table table-hover">
    <thead class="grey lighten-2">
        <tr>
            <th scope="col">S.N</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Username</th>
            <th scope="col">Action</th>

        </tr>
    </thead>
    <tbody>
          {% for student in user_list %}
          {% if student.is_superuser %}
          {%else%}
        <tr>
          <td class="count"></td>
            <td>{{student.first_name}}&nbsp{{student.last_name}}</td>
            <td>{{student.email}}</td>
            <td>{{student.username}}</td>
            <td><a  href="/updateuser/{{student.id}}" ><button class="btn btn-light" style="margin-bottom:2px;" type="submit" ><i class="fas fa-edit"></i></button></a>
              <a  href="/deleteuser/{{student.id}}" ><button class="btn btn-light" ><i class="fas fa-trash"></i></button></a></td>
        </tr>
        {%endif%}
        {% endfor %}
    </tbody>
</table>
  </div>
</div>
<script>
    let counter=1;
    document.querySelectorAll('.count').forEach(function(item)
    {
      item.innerHTML=counter;
      getcount();
    })
  function getcount()
  {
      return ++counter;
  }
</script>
{% endblock %}
